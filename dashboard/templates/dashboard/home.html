{% extends 'dashboard/base.html' %}

{% block title %}Dashboard - DulcerÃ­a Lilis{% endblock %}

{% block content %}
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-number">{{ productos_count }}</div>
        <div class="stat-label">ğŸ“¦ Productos</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ inventarios_count }}</div>
        <div class="stat-label">ğŸ“‹ Inventarios</div>
    </div>
    {% if user.is_superuser or user.id_rol.nombre == 'Administrador' %}
    <div class="stat-card">
        <div class="stat-number">{{ proveedores_count }}</div>
        <div class="stat-label">ğŸ¢ Proveedores</div>
    </div>
    <div class="stat-card">
        <div class="stat-number">{{ ventas_count }}</div>
        <div class="stat-label">ğŸ’° Ventas</div>
    </div>
    {% endif %}
</div>

<nav class="nav-tabs">
    <a href="{% url 'dashboard:productos' %}" class="nav-tab active">
        ğŸ“¦ Productos
    </a>
    <a href="{% url 'dashboard:inventarios' %}" class="nav-tab">
        ğŸ“‹ Inventarios
    </a>
    {% if user.is_superuser or user.id_rol.nombre == 'Administrador' %}
    <a href="{% url 'dashboard:proveedores' %}" class="nav-tab">
        ğŸ¢ Proveedores
    </a>
    <a href="{% url 'dashboard:ventas' %}" class="nav-tab">
        ğŸ’° Ventas
    </a>
    {% endif %}
</nav>

<div class="card">
    <div class="card-title">
        <span class="icon">ğŸ“Š</span>
        Resumen del Sistema
    </div>
    
    {% if user.is_superuser or user.id_rol.nombre == 'Administrador' %}
    <div class="alert alert-info">
        <strong>Administrador:</strong> Tienes acceso completo a todas las funcionalidades del sistema.
    </div>
    {% elif user.id_rol.nombre == 'Bodeguero' %}
    <div class="alert alert-info">
        <strong>Bodeguero:</strong> Puedes gestionar productos e inventarios. Acceso limitado a otras secciones.
    </div>
    {% endif %}

    <p>Bienvenido al sistema de gestiÃ³n de DulcerÃ­a Lilis. Desde aquÃ­ puedes acceder a todas las funcionalidades disponibles segÃºn tu rol.</p>
    
    <div style="margin-top: 1rem;">
        <h3>Funcionalidades disponibles:</h3>
        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
            <li><strong>Productos:</strong> Gestionar el catÃ¡logo de productos</li>
            <li><strong>Inventarios:</strong> Controlar el stock y ubicaciones</li>
            {% if user.is_superuser or user.id_rol.nombre == 'Administrador' %}
            <li><strong>Proveedores:</strong> Administrar informaciÃ³n de proveedores</li>
            <li><strong>Ventas:</strong> Consultar reportes de ventas</li>
            {% endif %}
        </ul>
    </div>
</div>
{% endblock %}
